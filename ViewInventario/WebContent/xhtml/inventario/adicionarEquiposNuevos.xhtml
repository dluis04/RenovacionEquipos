<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<body>

	<ui:composition
		template="../../WEB-INF/templates/templatePrincipal.xhtml">
		<ui:define name="content">
			<h:form id="formPrincipal">
				<div style="text-align: center;">
					<div class="brand" style="text-align: center;">
						<h1 class="brand_name">Adicionar Equipos Nuevos Inventario</h1>
					</div>
				</div>


				<p:tabView id="tapView">

					<p:tab id="tapRegistro" title="Registro">

						<p:growl id="messages1" />

						<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
							closable="false" resizable="false" showHeader="false">
							<p:graphicImage library="images" name="ajax-loader.gif" />
						</p:dialog>

						<p:panel id="panelRegistrar">

							<div align="center">

								<div class="ui-g">

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Computador: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="computadorNuevo" maxlength="200"
											value="#{MBInventario.computadorSeleccionado.nombreComputo}">
										</p:inputText>

										<p:commandButton icon="ui-icon-plus" type="button"
											onclick="PF('dlg2').show();" />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Sede: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="sede" maxlength="200"
											value="#{MBInventario.sedeSeleccionado.nombre}">
										</p:inputText>

										<p:commandButton  icon="ui-icon-plus" type="button"
											onclick="PF('dlg1').show();" />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Ciudad: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="ciudad" maxlength="200"
										
										style="    width: 230px;"
											value="#{MBInventario.sedeSeleccionado.ciudad.nombre}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Serial Inventario: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="serialI" maxlength="200"
										style="    width: 230px;"
											value="#{MBInventario.inventario.serialInventario}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Placa Inventario: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="placa" maxlength="200"
										style="    width: 230px;"
											value="#{MBInventario.inventario.placaInventario}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Segunda Placa: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="segundaPlaca" maxlength="200"
										style="    width: 230px;"
											value="#{MBInventario.inventario.segundaPlaca}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Observacion: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputTextarea id="observacion" maxlength="200" rows="5"
									
											cols="30" counter="display"
											counterTemplate="{0} Caracteres disponibles"
											autoResize="false"
											value="#{MBInventario.inventario.observacion}">
										</p:inputTextarea>
										<h:outputText id="display" />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:commandButton value="Registrar" style="width: 220px;"
											onstart="PF('statusDialog').show();  "
											oncomplete="PF('statusDialog').hide();"
											update=":formPrincipal:tapView:panelRegistrar,:formPrincipal:tapView:messages1"
											action="#{MBInventario.registrarInventarioCompuNuevo}"
											id="guardar">
										</p:commandButton>
									</div>

								</div>

								<p:dialog header="Sede" widgetVar="dlg1" modal="true">

									<h1 class="brand_name">Sedes</h1>

									<p:dataTable id="tblSede" var="var" selectionMode="single"
										selection="#{MBInventario.sedeSeleccionado}"
										rowKey="#{var.idSede}" value="#{MBInventario.listSedes}"
										emptyMessage="No hay registros para mostrar" rows="10"
										paginator="true"
										paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
										rowsPerPageTemplate="5,10,15">

										<f:facet name="header">
                                        Seleccione una Sedes
                                    </f:facet>

										<p:column headerText="Codigo">
											<h:outputText value="#{var.idSede}" />
										</p:column>

										<p:column headerText="Sede">
											<h:outputText value="#{var.nombre}" />
										</p:column>

										<p:column headerText="Ciudad">
											<h:outputText value="#{var.ciudad.nombre}" />
										</p:column>

										<p:column headerText="Direccion">
											<h:outputText value="#{var.direccion}" />
										</p:column>

										<p:column headerText="Piso">
											<h:outputText value="#{var.piso}" />
										</p:column>


										<f:facet name="footer">

											<p:commandButton value="Seleccionar" style="width: 100px;"
												update=":formPrincipal"
												action="#{MBInventario.seleccionarSede}"
												id="seleccionarSede">
											</p:commandButton>

											<p:commandButton value="Limpiar" style="width: 100px;"
												update="tblSede" action="#{MMBInventario.limpiarSede}"
												id="limpiarSede">
											</p:commandButton>

											<p:commandButton value="Cancelar" style="width: 100px;"
												update=":formPrincipal" action="#{MBInventario.limpiarSede}"
												id="cancelarSede">
											</p:commandButton>

										</f:facet>
									</p:dataTable>
								</p:dialog>

								<p:dialog header="Computador" widgetVar="dlg2" modal="true">


									<h1 class="brand_name">Computador Nuevo</h1>

									<p:dataTable id="tblComputador" var="var"
										selectionMode="single"
										selection="#{MBInventario.computadorSeleccionado}"
										rowKey="#{var.idComputador}"
										value="#{MBInventario.listComputadorNuevos}"
										emptyMessage="No hay registros para mostrar">

										<f:facet name="header">
                                        Seleccione un computador nuevo
                                    </f:facet>

										<p:column headerText="Codigo">
											<h:outputText value="#{var.idComputador}" />
										</p:column>

										<p:column headerText="Nombre">
											<h:outputText value="#{var.nombreComputo}" />
										</p:column>

										<p:column headerText="Serial Monitor">
											<h:outputText value="#{var.serialMonitor}" />
										</p:column>

										<p:column headerText="Serial Teclado">
											<h:outputText value="#{var.serialTeclado}" />
										</p:column>

										<p:column headerText="Serial Mouse">
											<h:outputText value="#{var.serialMouse}" />
										</p:column>

										<p:column headerText="Tipo">
											<h:outputText value="#{var.tipoComputo.tipoComputo}" />
										</p:column>

										<p:column headerText="Modelo">
											<h:outputText value="#{var.modeloComputo.modelo}" />
										</p:column>

										<p:column headerText="Sistema Operativo">
											<h:outputText value="#{var.sistemaOperativo.sistema}" />
										</p:column>

										<p:column headerText="Direccion IP">
											<h:outputText value="#{var.direccionIp}" />
										</p:column>

										<f:facet name="footer">

											<p:commandButton value="Seleccionar" style="width: 100px;"
												update=":formPrincipal"
												action="#{MBInventario.seleccionarCompu}"
												id="seleccionarComputadorNuevo">
											</p:commandButton>

											<p:commandButton value="Limpiar" style="width: 100px;"
												update="tblComputador"
												action="#{MBInventario.limpiarComputadorNuevo}"
												id="limpiarCompu">
											</p:commandButton>

											<p:commandButton value="Cancelar" style="width: 100px;"
												update=":formPrincipal"
												action="#{MBInventario.limpiarComputadorNuevo}"
												id="cancelarCompu">
											</p:commandButton>
										</f:facet>

									</p:dataTable>

								</p:dialog>


							</div>

						</p:panel>
					</p:tab>

					<p:tab id="tapConsulta" title="Modificacion">

						<div align="center">
							<p:panel id="panelModificar">
								<div class="ui-g">

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Serial Inventario: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="serialI2" maxlength="200"
											value="#{MBInventario.modificarInventario.serialInventario}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Placa Inventario: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="placa2" maxlength="200"
											value="#{MBInventario.modificarInventario.placaInventario}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Segundo Placa: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="segundaPlaca2" maxlength="200"
											value="#{MBInventario.modificarInventario.segundaPlaca}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Observacion: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputTextarea id="observacion2" maxlength="200" rows="5"
											cols="30" counter="display2"
											counterTemplate="{0} Caracteres disponibles"
											autoResize="false"
											value="#{MBInventario.modificarInventario.observacion}">
										</p:inputTextarea>
										<h:outputText id="display2" />
									</div>
									<p:dataTable id="tblInventario" var="var"
										selectionMode="single"
										selection="#{MBInventario.inventarioSeleccionado}"
										rowKey="#{var.idInventario}"
										value="#{MBInventario.listInventarioNuevo}"
										emptyMessage="No hay registros para mostrar">

										<f:facet name="header">
                                        Seleccione un computador 
                                    </f:facet>

										<p:ajax event="rowSelect"
											listener="#{MBInventario.onRowSelect}"
											update=":formPrincipal:tapView:panelModificar,:formPrincipal:tapView:messages1" />

										<p:column headerText="Codigo">
											<h:outputText value="#{var.idInventario}" />
										</p:column>

										<p:column headerText="Computador">
											<h:outputText value="#{var.computador.nombreComputo}" />
										</p:column>

										<p:column headerText="Sede">
											<h:outputText value="#{var.sede.nombre}" />
										</p:column>

										<p:column headerText="Direccion">
											<h:outputText value="#{var.sede.direccion}" />
										</p:column>

										<p:column headerText="Piso">
											<h:outputText value="#{var.sede.piso}" />
										</p:column>

									</p:dataTable>



									<div class="ui-g-12 ui-lg-3">
										<p:commandButton value="Modificar" style="width: 220px;"
											onstart="PF('statusDialog').show();  "
											oncomplete="PF('statusDialog').hide();"
											update=":formPrincipal:tapView,:formPrincipal:tapView:messages1"
											action="#{MBInventario.modificarInventarioCompuNuevo}"
											id="modificar">
										</p:commandButton>
									</div>

								</div>
							</p:panel>
						</div>

					</p:tab>

				</p:tabView>


			</h:form>

		</ui:define>

	</ui:composition>

</body>
</html>

