<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<body>
	<ui:composition
		template="../../WEB-INF/templates/templatePrincipal.xhtml">
		<ui:define name="content">
			<h:form id="formPrincipal">
				<div style="text-align: center;">
					<div class="brand" style="text-align: center;">
						<h1 class="brand_name">Sede</h1>
					</div>
				</div>


				<p:tabView id="tapView">


					<p:tab id="tapRegistro" title="Registro">

						<p:growl id="messages1" />

						<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
							closable="false" resizable="false" showHeader="false">
							<p:graphicImage library="images" name="ajax-loader.gif" />
						</p:dialog>


						<p:panel id="panelRegistrar">

							<div align="center">

								<div class="ui-g">


									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Ciudad: " />
									</div>


									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="ciudad" maxlength="200"
											value="#{MBSede.ciudadSeleccionado.nombre}">
										</p:inputText>

										<p:commandButton icon="ui-icon-plus" type="button"
											onclick="PF('dlg1').show();" />
									</div>


									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Nombre: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="nombre" maxlength="200"
											value="#{MBSede.sede.nombre}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Direccion: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="direccion" maxlength="200"
											value="#{MBSede.sede.direccion}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Piso: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="piso" maxlength="200"
											value="#{MBSede.sede.piso}">
										</p:inputText>
									</div>




									<div class="ui-g-12 ui-lg-3">
										<p:commandButton value="Registrar" style="width: 220px;"
											onstart="PF('statusDialog').show();  "
											oncomplete="PF('statusDialog').hide();"
											update=":formPrincipal:tapView:panelRegistrar, messages1
							,:formPrincipal:tapView:tblSede"
											action="#{MBSede.registrarSede}" id="guardar">
										</p:commandButton>
									</div>


									<div class="ui-g-12 ui-lg-3">
										<p:commandButton value="Limpiar" style="width: 220px;"
											onstart="PF('statusDialog').show();  "
											oncomplete="PF('statusDialog').hide();"
											update=":formPrincipal:tapView:panelRegistrar"
											action="#{MBSede.limpiar}" id="limpiar">
										</p:commandButton>
									</div>


								</div>

								<p:dialog header="Ciudad" widgetVar="dlg1" modal="true">

									<h1 class="brand_name">Ciudades</h1>

									<p:dataTable id="tblCiudad" var="var" selectionMode="single"
										selection="#{MBSede.ciudadSeleccionado}"
										rowKey="#{var.idCiudad}" value="#{MBSede.listCiudad}"
										emptyMessage="No hay registros para mostrar" rows="10"
										paginator="true"
										paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
										rowsPerPageTemplate="5,10,15">

										<f:facet name="header">
                                        Seleccione una Ciudad
                                    </f:facet>

										<p:column headerText="Codigo">
											<h:outputText value="#{var.idCiudad}" />
										</p:column>

										<p:column headerText="Sede">
											<h:outputText value="#{var.nombre}" />
										</p:column>

										<f:facet name="footer">

											<p:commandButton value="Seleccionar" style="width: 100px;"
												update=":formPrincipal" action="#{MBSede.seleccionarCiudad}"
												id="seleccionarCiudad">
											</p:commandButton>

											<p:commandButton value="Limpiar" style="width: 100px;"
												update="tblCiudad" action="#{MBSede.limpiarCiudad}"
												id="limpiarCiudad">
											</p:commandButton>

											<p:commandButton value="Cancelar" style="width: 100px;"
												update=":formPrincipal" action="#{MBSede.limpiarCiudad}"
												id="cancelarCiudad">
											</p:commandButton>


										</f:facet>
									</p:dataTable>
								</p:dialog>
							</div>

						</p:panel>

					</p:tab>



					<p:tab id="tapConsulta" title="Consulta / ModificaciÃ³n">

						<div align="center">

							<p:panel id="panelModificar">

								<div class="ui-g">


									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Ciudad: " />
									</div>


									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="ciudad2" maxlength="200"
											value="#{MBSede.ciudadModifica.nombre}">
										</p:inputText>

										<p:commandButton icon="ui-icon-plus"  type="button"
											onclick="PF('dlg2').show();" />
									</div>


									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Nombre: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="nombre2" maxlength="200"
											value="#{MBSede.sedeModificar.nombre}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; "
											value="Direccion: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="direccion2" maxlength="200"
											value="#{MBSede.sedeModificar.direccion}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<h:outputText style="    font-weight: bold; " value="Piso: " />
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:inputText id="piso2" maxlength="200"
											value="#{MBSede.sedeModificar.piso}">
										</p:inputText>
									</div>

									<div class="ui-g-12 ui-lg-3">
										<p:commandButton value="Modificar" style="width: 220px;"
											onstart="PF('statusDialog').show();  "
											oncomplete="PF('statusDialog').hide();"
											update=":formPrincipal:tapView, messages1,:formPrincipal:tapView:tblSede"
											action="#{MBSede.modificarSede}" id="guardar2">
										</p:commandButton>
									</div>
									<p:dialog header="Ciudad" widgetVar="dlg2" modal="true">

										<h1 class="brand_name">Ciudades</h1>

										<p:dataTable id="tblCiudad2" var="var" selectionMode="single"
											selection="#{MBSede.ciudadModifica}" rowKey="#{var.idCiudad}"
											value="#{MBSede.listCiudad}"
											emptyMessage="No hay registros para mostrar" rows="10"
											paginator="true"
											paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
											rowsPerPageTemplate="5,10,15">

											<f:facet name="header">
                                        Seleccione una Ciudad
                                    </f:facet>

											<p:column headerText="Codigo">
												<h:outputText value="#{var.idCiudad}" />
											</p:column>

											<p:column headerText="Sede">
												<h:outputText value="#{var.nombre}" />
											</p:column>

											<f:facet name="footer">

												<p:commandButton value="Seleccionar" style="width: 100px;"
													update=":formPrincipal"
													action="#{MBSede.seleccionarCiudadModi}"
													id="seleccionarCiudad2">
												</p:commandButton>

												<p:commandButton value="Limpiar" style="width: 100px;"
													update="tblCiudad2" action="#{MBSede.limpiarCiudad}"
													id="limpiarCiudad2">
												</p:commandButton>

												<p:commandButton value="Cancelar" style="width: 100px;"
													update=":formPrincipal" action="#{MBSede.limpiarCiudad}"
													id="cancelarCiudad2">
												</p:commandButton>


											</f:facet>
										</p:dataTable>
									</p:dialog>
								</div>

								<br></br>

								<p:dataTable id="tblSede" var="var" selectionMode="single"
									selection="#{MBSede.sedeSeleccionado}" rowKey="#{var.idSede}"
									value="#{MBSede.listSedes}"
									emptyMessage="No hay registros para mostrar">

									<f:facet name="header">
                                        Seleccione una Sede a modificar
                                    </f:facet>
									<p:ajax event="rowSelect" listener="#{MBSede.onRowSelect}"
										update=":formPrincipal:tapView:panelModificar" />

									<p:column headerText="Codigo">
										<h:outputText value="#{var.idSede}" />
									</p:column>

									<p:column headerText="Ciudad">
										<h:outputText value="#{var.ciudad.nombre}" />
									</p:column>

									<p:column headerText="Sede">
										<h:outputText value="#{var.nombre}" />
									</p:column>

									<p:column headerText="Direccion">
										<h:outputText value="#{var.direccion}" />
									</p:column>

									<p:column headerText="Piso">
										<h:outputText value="#{var.piso}" />
									</p:column>

								</p:dataTable>
							</p:panel>


						</div>
					</p:tab>

				</p:tabView>


			</h:form>




		</ui:define>

	</ui:composition>

</body>
</html>

